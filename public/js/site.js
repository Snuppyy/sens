(self.webpackChunk=self.webpackChunk||[]).push([[752],{61715:(e,t,n)=>{"use strict";var a=n(32275),o=n.n(a),i=function(e){if(!e.legacy){e.legacy={commonAncestorContainer:e.commonAncestorContainer,startContainer:e.startContainer,startOffset:e.startOffset,endContainer:e.endContainer,endOffset:e.endOffset,text:e.text},delete e.text;var t=r(doc.body,e.commonAncestorContainer),n=t.element;e.commonAncestorContainer=t.path,t=r(n,e.startContainer,e.startOffset),e.startContainer=t.path,e.startOffset=t.offset,t=r(n,e.endContainer,e.endOffset),e.endContainer=t.path,e.endOffset=t.offset}},r=function(e,t,n){for(var a,o,i={path:[],offset:0},r=0;r<t.length;r++){for(var l=0;l<=t[r];l++){var s=3===(a=e.childNodes[l]).nodeType;s&&a.previousSibling&&3===a.previousSibling.nodeType&&console.error("fromDocSpace: sibling text nodes"),s||a.classList.contains("sel")?(o||(o=!0,i.path.length==r&&i.path.push(-1),i.path[r]++),l<t[r]&&(i.offset+=a.textContent.length)):(o=!1,i.offset=0,i.path.length==r&&i.path.push(-1),i.path[r]++)}e=a}return n&&(i.offset+=n),i.element=e,i},l=function(e,t,n,a){for(var i,r,l={path:[],offset:0},s=0;n>=0||s<t.length;s++){var c=-1;if(!e.childNodes.length)return l.element=e,l.offset=n,l;l.path.length==s&&l.path.push(-1);for(var d=!1,f=0;f<e.childNodes.length;f++){l.path[s]++;var u=3===(i=e.childNodes[f]).nodeType;if(u&&i.previousSibling&&3===i.previousSibling.nodeType&&console.error("toDocSpace: sibling text nodes"),u||i.classList.contains("sel")){if(r||(c++,r=!0),t[s]==c||s>=t.length){if(o().isUndefined(n)||n<=i.textContent.length){u&&(l.offset=n,n=-1),r=!1,d=!0;break}n-=i.textContent.length}}else if(r=!1,t[s]==++c){d=!0;break}}d||console.error("toDocSpace: children exhausted"),e=i}return l.element=i,l},s=function(e,t){for(var n=0;n<e.length;n++)t=t.childNodes[e[n]];return t};const c=function(e,t,n,a,o,r){try{var c=n.commonAncestorContainer,d=n.startContainer,f=n.startOffset,u=n.endContainer,h=n.endOffset;if(n.legacy){var p=l(t.body,c),m=p.element;c=p.path,d=(p=l(m,d,f,!0)).path,f=p.offset,u=(p=l(m,u,h)).path,h=p.offset}else i(n);c=s(c||[],t.body),d=s(d||[],c),u=s(u||[],c);for(var v,g=t.createNodeIterator(c,NodeFilter.SHOW_ALL,{acceptNode:function(e){return 3===e.nodeType?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),b=[];g.nextNode()&&(0===b.length&&g.referenceNode!==d||3===g.referenceNode.nodeType&&0===g.referenceNode.nodeValue.trim().length||(b.push({start:g.referenceNode===d?f:null,node:g.referenceNode,end:g.referenceNode===u?h:null}),g.referenceNode!==u)););if(!b.length)return!1;if(!n.text){var w=t.createRange();w.setStart(d,f),w.setEnd(u,h),n.text=w.toString()}try{var $=t.createRange();$.setStart(d,f),$.setEnd(u,h),v=$.toString()}catch(e){v=null}n.text!=v&&(console.error("Selection text mismatch!"),console.log(n),console.log(v)),n.legacy&&n.legacy.text&&n.legacy.text!=n.text&&console.error("Legacy text does not match!");for(var y=0;y<b.length;y++){var k=b[y],C=t.createElement("span");C.className=o?"sel":"sel selection "+(a?"":"selected ")+"s"+n.id+" "+r,k.node.parentElement.replaceChild(C,k.node),C.appendChild(k.node),n.top||(n.top=C.getBoundingClientRect().top+e.contentWindow.pageYOffset);var x=k.node.nodeValue;if(null!==k.start){var S=t.createTextNode(x.substring(0,k.start));C.parentElement.insertBefore(S,C),k.node.nodeValue=x.substring(k.start)}if(null!==k.end){S=t.createTextNode(x.substring(k.end));C.nextSibling?C.parentElement.insertBefore(S,C.nextSibling):C.parentElement.appendChild(S),k.node.nodeValue=x.substring(k.start||0,k.end)}}}catch(e){console.error(e)}};function d(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw i}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}window.Popper=n(29101).default,window.$=window.jQuery=n(26651),n(96269),n(50541),window.Inputmask=n(50633),n(48330),$((function(){n(92578),window.Inputmask("+\\9\\98 99 999 99 99").mask($("[type=tel]")),$("form [type=checkbox]").click((function(){var e=$(this).closest("form");e.hasClass("single-answer")||"-1"==$(this).val()?e.find("[type=checkbox]").not(this).prop("checked",!1):e.find("[type=checkbox][value=-1]").not(this).prop("checked",!1)})),$("[data-ask]").click((function(){if(!$("[name=level]").closest("form").find("[type=checkbox]:checked").length)return $("#skip-confirm").modal("show"),!1})),$("#skip-confirm .confirm").click((function(){var e=$("[name=dont-ask]");e.val($(this).closest(".modal").find("[type=checkbox]").prop("checked")?1:0),e.closest("form").submit()}));var e=$(".source");if(e.length&&window.selections&&window.selections.length){var t=e[0].contentDocument||e[0].contentWindow.document,a=function(){t=e[0].contentDocument||e[0].contentWindow.document;var n=window.correct?"ccffcc":window.incorrect?"ffcccc":"cccccc",a=t.createElement("style");a.appendChild(t.createTextNode(".selection{background:#".concat(n,"!important}"))),t.head.appendChild(a);var o,i=null,r=d(window.selections);try{for(r.s();!(o=r.n()).done;){var l=o.value;null===i&&(i=l.top),c(e[0],t,l)}}catch(e){r.e(e)}finally{r.f()}e[0].contentWindow.scrollTo(0,i-60)};"complete"==t.readyState&&t.location.href==e[0].src?a():e.on("load",a)}if(e.length&&window.map){e.each((function(e){!function(e,t){var n=e.contentDocument||e.contentWindow.document,a=function(){var a=(n=e.contentDocument||e.contentWindow.document).createElement("style");a.appendChild(n.createTextNode(".selection{background:#cccccc!important}.selection.correct{background:#ccffcc!important}.selection.incorrect{background:#ffcccc!important}")),n.head.appendChild(a);var o,i=null,r=d(t);try{for(r.s();!(o=r.n()).done;){var l,s=o.value,f=d(s.selections);try{for(f.s();!(l=f.n()).done;){var u=l.value;null===i&&(i=u.top),c(e,n,u,!1,!1,s.correct?"correct":s.incorrect?"incorrect":"")}}catch(e){f.e(e)}finally{f.f()}}}catch(e){r.e(e)}finally{r.f()}e.contentWindow.scrollTo(0,i-60)};"complete"==n.readyState&&n.location.href==e.src?a():$(e).on("load",a)}(this,window.map[e])}))}$((function(){$('[data-toggle="tooltip"]').tooltip()})),$("[data-href]").click((function(){var e=$($(this).attr("href"));e.length&&e.find(".confirm").attr("href",$(this).data("href"))})),$("[id^=question_no_]").change((function(){var e=$(this).closest(".form-group").nextUntil(":not(.form-group):not(.mt-2)");$(this).prop("checked")?e.hide().find("input").first().removeAttr("required"):e.show().find("input").first().attr("required","")})).change(),$(".application").on("input",".form-control[name^=question_]",(function(){var e=$(this).closest(".form-group");if(!e.next().is(".form-group")&&$(this).val()){var t=e.clone();t.find("input").val("").removeAttr("required"),e.after(t)}})),$(".application").on("change",".form-control[name^=question_]",(function(){var e=$(this).closest(".form-group");$(this).val()||e.remove()})),$(".application [type=submit]").click((function(){"submit"==$(this).attr("name")?$(this).closest("form").removeAttr("novalidate"):$(this).closest("form").attr("novalidate","")}))})),window.onload=function(){function e(e){return e.stopPropagation?e.stopPropagation():window.event&&(window.event.cancelBubble=!0),e.preventDefault(),!1}document.addEventListener("contextmenu",(function(e){e.preventDefault()}),!1),document.addEventListener("keydown",(function(t){t.ctrlKey&&t.shiftKey&&73==t.keyCode&&e(t),t.ctrlKey&&t.shiftKey&&74==t.keyCode&&e(t),83==t.keyCode&&(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)&&e(t),t.ctrlKey&&85==t.keyCode&&e(t),123==event.keyCode&&e(t)}),!1)},window.onload=function(){window.parent!=window&&($("body").addClass("embedded"),window.parent.postMessage({height:document.body.offsetHeight+parseInt(getComputedStyle(document.body)["margin-bottom"])+"px"},"*"))},$((function(){var e=$(".questions-map h4");if(e.length){var t=function(){var t=e.width(),n=e.find(".badge.current"),a=n.position().left+n.width()/2-t/2;a>0&&e.scrollLeft(a)};t(),$(window).on("resize",t),$(window).scrollTop(e.offset().top-30)}}))},92578:(e,t,n)=>{"use strict";n.r(t);var a=n(35930),o=n.n(a);$((function(){Inputmask.extendDefinitions({A:{validator:"[A-Za-z]",casing:"upper"},А:{validator:"[А-Яа-я]",casing:"upper"}}),Inputmask("AA 9999999").mask($("[name=passport]")),Inputmask("A{*}").mask($("[name=firstname_lat], [name=lastname_lat]")),Inputmask("А{*}").mask($("[name=firstname], [name=lastname]"));var e=$("#country"),t=$("#province"),n=$("#city");if(e.length&&e.change((function(){n.clear(),t.clear(),t.clearOptions(),$.get("/api/placenames/province/"+e.val()).done((function(e){e.placenames&&t.addOption(e.placenames)}))})),t.length){var a=function(e,t){t||n.clear(),n.clearOptions(),$.get("/api/placenames/city/"+e).done((function(e){e.placenames&&n.addOption(e.placenames)}))};t=t.selectize({labelField:"ru",searchField:"ru",valueField:"id",onChange:a})[0].selectize,$.get("/api/placenames/province/"+$("[name=country]").val()).done((function(e){e.placenames&&t.addOption(e.placenames)})),n=n.selectize({labelField:"ru",searchField:"ru",valueField:"id",createOnBlur:!0,create:function(e,n){var a=t.getValue();a?$.post("/api/placenames",{parent_id:a,name:e}).done((function(e){e.placename&&n(e.placename)})):n({})}})[0].selectize,a(t.getValue(),!0)}$(".social a").click((function(){var e=$($(this).find(".fa-check").length?$(this).parent().find(".fa-check").length>1?"#social-detach":"":"#social-attach");return e.find("a").attr("href",$(this).attr("href")),e.find(".social-name").text($(this).text()),e.modal("show"),!1})),o().init(),$("#social-used").length&&$("#social-used").modal("show")}))},72643:()=>{var e="",t=!1,n=!1,a=$("#registration-form [name=token]"),o=$("#confirm-email"),i=$("#email-confirmation-modal"),r=$("#registration-form #email"),l=i.find(".send"),s=i.find(".confirm"),c=$("#registration-form [type=submit]"),d=$(".alert-info");r.hasClass("is-valid")&&(e=r.val(),n=!0),$("#email").on("input",(function(){var t=n&&e==$(this).val(),a=t||$("#registration-form #phone").is(".is-valid");o.attr("disabled",t||!r.val()||r.is(":invalid")),t?(r.addClass("is-valid"),o.addClass("btn-success"),d.hide()):(r.removeClass("is-valid"),o.removeClass("btn-success"),d.show()),c.attr("disabled",!a),a?d.hide():d.show()})).trigger("input"),i.find(".alert").hide(),$("#confirm-email").click((function(){i.modal("show"),t||l.click()})),l.click((function(){var n=a.val();e=r.val(),l.attr("disabled",!0),s.attr("disabled",!0),i.find(".alert").hide().filter(".alert-secondary").show(),$.get("/api/email/"+e+(n?"/"+n:"")).done((function(n){$(".email-confirmation-address").text(e),"success"==n.result?(t=!0,l.attr("disabled",!1),s.attr("disabled",!1),i.find(".alert").hide().filter(".alert-success").show(),a.val(n.token)):"used"==n.result?i.find(".alert").hide().filter(".alert-warning").show():(l.attr("disabled",!1),s.attr("disabled",!1),i.find(".alert").hide().filter(".alert-danger.fail").show())})).fail((function(){l.attr("disabled",!1),i.find(".alert").hide().filter(".alert-danger.fail").show()}))})),s.click((function(){l.attr("disabled",!0),s.attr("disabled",!0),i.find(".alert").hide().filter(".alert-secondary").show(),$.get("/api/email/check/"+a.val()).done((function(e){l.attr("disabled",!1),s.attr("disabled",!1),i.find(".alert").hide(),"success"==e.result?(i.modal("hide"),n=!0,o.addClass("btn-success").attr("disabled",!0),r.addClass("is-valid"),c.attr("disabled",!1),d.hide()):i.find(".alert-success").show()})).fail((function(){l.attr("disabled",!1),s.attr("disabled",!1),i.find(".alert").hide().filter(".alert-danger.fail").show()}))}))},48330:(e,t,n)=>{$((function(){n(98158),n(72643)}))},98158:()=>{var e,t,n="",a=!1,o=!1,i=$("#registration-form [name=token]"),r=$("#confirm-phone"),l=$("#phone-confirmation-modal"),s=$("#registration-form #phone"),c=l.find("input"),d=l.find(".send"),f=l.find(".confirm"),u=$("#registration-form [type=submit]"),h=$(".alert-info"),p=$("#phone-confirmation-countdown");s.hasClass("is-valid")&&(n=s.val(),o=!0),$("#phone").on("input",(function(){var e=s.val(),t=o&&n==e,a=t||$("#registration-form #email").is(".is-valid");r.attr("disabled",t||e.length&&-1!=e.indexOf("_")),t?(s.addClass("is-valid"),r.addClass("btn-success"),h.hide()):(s.removeClass("is-valid"),r.removeClass("btn-success"),h.show()),u.attr("disabled",!a),a?h.hide():h.show()})).trigger("input"),l.find(".alert").hide(),$("#confirm-phone").click((function(){l.modal("show"),a||d.click()})),d.click((function(){var o=i.val();n=s.val(),d.attr("disabled",!0),l.find(".alert").hide().filter(".alert-secondary").show(),$.get("/api/phone/"+n+(o?"/"+o:"")).done((function(o){if(c.attr("disabled",!1),$(".phone-confirmation-number").text(n),"success"==o.result){l.find(".alert").hide().filter(".alert-success").show(),clearInterval(t),e=30;var r=function(){e--,p.text("("+e+")"),e<=0&&(clearInterval(t),t=0,p.text(""),d.attr("disabled",!1))};r(),t=setInterval(r,1e3),a=!0,i.val(o.token)}else"used"==o.result?(d.attr("disabled",!1),l.find(".alert").hide().filter(".alert-warning").show()):(d.attr("disabled",!1),l.find(".alert").hide().filter(".alert-danger.fail").show())})).fail((function(){d.attr("disabled",!1),l.find(".alert").hide().filter(".alert-danger.fail").show()}))})),c.on("input",(function(){f.attr("disabled",!+c.val())})),f.click((function(){var e=c.val();d.attr("disabled",!0),f.attr("disabled",!0),l.find(".alert").hide().filter(".alert-secondary").show(),$.get("/api/code/"+i.val()+"/"+e).done((function(e){t||d.attr("disabled",!1),f.attr("disabled",!1),l.find(".alert").hide(),"success"==e.result?(l.modal("hide"),o=!0,r.addClass("btn-success").attr("disabled",!0),s.addClass("is-valid"),u.attr("disabled",!1),h.hide()):"wrong_code"==e.result?l.find(".alert-danger.error").show():l.find(".alert-danger.fail").show()})).fail((function(){t||d.attr("disabled",!1),f.attr("disabled",!1),l.find(".alert").hide().filter(".alert-danger.fail").show()}))}))},17168:()=>{},17805:()=>{}},0,[[61715,964,523,555],[17168,964,523,555],[17805,964,523,555]]]);